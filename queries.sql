CREATE TABLE `farmaciadb`.`usuarios` (`id_usuario` INT(10) NOT NULL AUTO_INCREMENT , `nombre` VARCHAR(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL , `correo` VARCHAR(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL , `contrase√±a` VARCHAR(15) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL , `rol` VARCHAR(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL , PRIMARY KEY (`id_usuario`)) ENGINE = InnoDB;
CREATE TABLE `farmaciadb`.`clientes` (`id_cliente` INT(10) NOT NULL AUTO_INCREMENT , `nombre` VARCHAR(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL , `puntos_acumulados` INT(10) NOT NULL , PRIMARY KEY (`id_cliente`)) ENGINE = InnoDB;
CREATE TABLE `farmaciadb`.`proveedores` (`id_proveedor` INT(15) NOT NULL AUTO_INCREMENT , `nombre_empresa` VARCHAR(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL , `telefono` INT(15) NOT NULL , `direccion` VARCHAR(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL , `email` VARCHAR(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL , PRIMARY KEY (`id_proveedor`)) ENGINE = InnoDB;
CREATE TABLE `farmaciadb`.`productos` (`id_producto` INT(15) NOT NULL AUTO_INCREMENT , `nombre_producto` VARCHAR(30) NOT NULL , `descripcion` VARCHAR(30) NOT NULL , `precio` INT(15) NOT NULL , `cantidad_stock` INT(15) NOT NULL , `id_proveedor` INT(15) NOT NULL , PRIMARY KEY (`id_producto`), INDEX (`id_proveedor`)) ENGINE = InnoDB;
CREATE TABLE `farmaciadb`.`ventas` (`id_venta` INT NOT NULL AUTO_INCREMENT , `id_cliente` INT NOT NULL , `id_usuario` INT NOT NULL , `fecha_venta` TIMESTAMP NOT NULL , `total` DECIMAL NOT NULL , PRIMARY KEY (`id_venta`), INDEX (`id_cliente`), INDEX (`id_usuario`)) ENGINE = InnoDB;
CREATE TABLE `farmaciadb`.`detalle_venta` (`id_detalle` INT(15) NOT NULL AUTO_INCREMENT , `id_venta` INT(15) NOT NULL , `id_producto` INT(15) NOT NULL , `cantidad` INT(15) NOT NULL , `precio_unitario` DECIMAL(15) NOT NULL , `subtotal` DECIMAL(15) NOT NULL , PRIMARY KEY (`id_detalle`), INDEX (`id_venta`), INDEX (`id_producto`)) ENGINE = InnoDB;
ALTER TABLE `productos` ADD `fecha_ingreso` DATE NOT NULL AFTER `cantidad_stock`;